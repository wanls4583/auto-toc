{"version":3,"sources":["webpack:///webpack/bootstrap 7b41b28f193ee982ce96","webpack:///./src/index.js","webpack:///(webpack)/buildin/module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Toc","options","_classCallCheck","this","wrapperId","container","document","getElementById","body","insertId","insertDom","firstElementChild","showSerial","childH","child","nodeName","match","order","parseInt","push","nextElementSibling","context","num","_createChildH","first","length","tmp","splice","concat","self","getAllH","createItemChain","tocWrap","createElement","setAttribute","innerHTML","parentNode","insertBefore","getElementsByClassName","addEventListener","className","_createToc","dom","level","serial","div","_serial","appendChild","_typeof","window","define","undefined","__WEBPACK_AMD_DEFINE_RESULT__","apply","webpackPolyfill","deprecate","paths","children"],"mappings":"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","file":"toc.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b41b28f193ee982ce96","/**\r\n * 目录类\r\n */\r\nclass Toc{\r\n\t/**\r\n\t * 初始化\r\n\t * @param  {object} options {\r\n\t *   wrapperId: 需要生成toc目录的容器id\r\n\t *   insertId: 位置id，toc目录面板将插入在此id代表的元素的前面\r\n\t *   showSerial： 是否显示目录序号\r\n\t * }\r\n\t */\r\n\tconstructor(options) {\r\n\t\tif(options.wrapperId){\r\n\t\t\tthis.container = document.getElementById(options.wrapperId);\r\n\t\t}else{\r\n\t\t\tthis.container = document.body;\r\n\t\t}\r\n\t\tif(options.insertId){\r\n\t\t\tthis.insertDom = document.getElementById(options.insertId);\r\n\t\t}else if(this.container!=document.body){\r\n\t\t\tthis.insertDom = this.container;\r\n\t\t}else{\r\n\t\t\tthis.insertDom = this.container.firstElementChild;\r\n\t\t}\r\n\t\tthis.showSerial = options.showSerial || false;\r\n\t\tthis.childH = []; //初始标题数组\r\n\t}\r\n\t/**\r\n\t * 获取容器中所有的标题\r\n\t */\r\n\tgetAllH(){\r\n\t\tlet child = this.container.firstElementChild;\r\n\t\twhile(child){\r\n\t\t\tif(child.nodeName.match(/H[1-7]/)){\r\n\t\t\t\tchild.order = parseInt(child.nodeName[1]); //标题大小序号[1,2,3,4,5,6,7]\r\n\t\t\t\tthis.childH.push(child);\r\n\t\t\t}\r\n\t\t\tchild = child.nextElementSibling;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * 创建标题树\r\n\t * @param  {object} context [标题树数组]\r\n\t * @param  {number} num     [下标]\r\n\t */\r\n\tcreateItemChain(context,num){\r\n\t\t\r\n\t\t_createChildH(context,num)\r\n\r\n\t\tfunction _createChildH(context,num){\r\n\t\t\tif(!context || !context[num]){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet first = context[num];\r\n\t\t\tfirst.childH = [];//子标题\r\n\t\t\t//创建子标题\r\n\t\t\tfor(let i=num+1; i < context.length; i++){\r\n\t\t\t\tif(context[i].order > first.order){\r\n\t\t\t\t\tlet tmp = context.splice(i,1);\r\n\t\t\t\t\tfirst.childH = first.childH.concat(tmp);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//递归创建子标题树\r\n\t\t\tif(first.childH.length){\r\n\t\t\t\t_createChildH(first.childH,0);\r\n\t\t\t}\r\n\r\n\t\t\t//检查first的下一个同级标题是否创建过子标题树，没有则创建\r\n\t\t\tfor(let i=num+1; i < context.length; i++){\r\n\t\t\t\tif(!context[i].childH){\r\n\t\t\t\t\t_createChildH(context,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * 生成toc目录dom\r\n\t */\r\n\tcreateToc(){\r\n\t\tlet self = this;\r\n\t\tthis.getAllH();\r\n\t\tthis.createItemChain(this.childH,0);\r\n\r\n\t\tif(!this.childH.length){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tlet tocWrap = document.createElement('div');\r\n\t\ttocWrap.setAttribute(\"class\", \"toc_wrap\");\r\n\t\ttocWrap.setAttribute(\"id\", \"toc_wrap\");\r\n\r\n\t\ttocWrap.innerHTML = '<div class=\"toc_root\" id=\"toc\"><a class=\"hide_toc_btn\">[hide]</a></div><a class=\"show_toc_btn\">[显示目录]</a>';\r\n\r\n\t\tthis.insertDom.parentNode.insertBefore(tocWrap,this.insertDom);\r\n\r\n\t\ttocWrap.getElementsByClassName('hide_toc_btn')[0].addEventListener('click',function(){\r\n\t\t\ttocWrap.className = tocWrap.className+' hide';\r\n\t\t});\r\n\r\n\t\ttocWrap.getElementsByClassName('show_toc_btn')[0].addEventListener('click',function(){\r\n\t\t\ttocWrap.className = 'toc_wrap';\r\n\t\t});\r\n\r\n\t\t_createToc(document.getElementById('toc'),this.childH,1,'');\r\n\t\t/**\r\n\t\t * 递推创建dom\r\n\t\t * @param  {DOM} dom     [父元素]\r\n\t\t * @param  {array} context [目录树]\r\n\t\t * @param  {number} level   [层级]\r\n\t\t * @param  {string} serial  [序号]\r\n\t\t */\r\n\t\tfunction _createToc(dom,context,level,serial){\r\n\t\t\tlet num = 1;\r\n\t\t\tfor(let i=0; i<context.length; i++){\r\n\t\t\t\tlet div = document.createElement('div');\r\n\t\t\t\tdiv.setAttribute(\"class\", \"toc_lvl toc_lvl_\"+level);\r\n\t\t\t\tlet _serial = '',serialStr = '';\r\n\t\t\t\tif(serial){\r\n\t\t\t\t\t_serial = serial + '.' + num\r\n\t\t\t\t}else{\r\n\t\t\t\t\t_serial = num\r\n\t\t\t\t}\r\n\t\t\t\tif(self.showSerial){\r\n\t\t\t\t\tserialStr = _serial;\r\n\t\t\t\t}\r\n\t\t\t\tdiv.innerHTML = '<a href=\"#toc_'+_serial+'\"\">' + _serial + '&nbsp;' + context[i].innerHTML + '</a>';\r\n\t\t\t\tcontext[i].setAttribute('id','toc_'+_serial); //给标题元素设置id，以便使用target定位到该元素\r\n\t\t\t\tdom.appendChild(div);\r\n\r\n\t\t\t\tif(context[i].childH && context[i].childH.length){ //递归创建目录dom\r\n\t\t\t\t\t_createToc(div,context[i].childH,level+1,_serial);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnum++; //标题题序号递增\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\tmodule.exports = Toc;\r\n}\r\n\r\nif ( typeof window.define === \"function\" /*&& window.define.amd*/ ) {\r\n\tdefine( \"toc\", [], function() {\r\n\t\treturn Toc;\r\n\t} );\r\n}else{\r\n\twindow.Toc = Toc;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}